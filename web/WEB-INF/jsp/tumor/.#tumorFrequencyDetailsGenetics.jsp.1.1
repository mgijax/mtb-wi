<%@ page language="java" contentType="text/html" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %>
<%@ taglib uri="http://struts.apache.org/tags-html" prefix="html" %> 
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<c:import url="../../../meta.jsp">
    <c:param name="pageTitle" value="Tumor Genetics"/>
</c:import>
</head>

<c:import url="../../../body.jsp">
     <c:param name="pageTitle" value="Tumor Genetics"/>
</c:import>

<table width="95%" border="0" cellspacing="0" cellpadding="0" align="center">
    <tr>
        <td valign="top">
            <table width="95%" align="center" border="0" cellspacing="1" cellpadding="4">
                <tr>
                    <td>
<!--======================= Start Tumor Genetics Section ===================-->    
    <c:choose>
    <c:when test="${not empty tumorFreq.tumorGenetics}">
        <table border="0" cellpadding=5 cellspacing=1 width="100%" class="results">
            <tr>
                <td colspan="5" class="resultsHeaderLeft">
                    <font class="larger">Tumor Genetics</font>
                </td>
            </tr>
            <tr>
                <td class="headerLabel">Marker<br>Symbol</td>
                <td class="headerLabel">Marker<br>Name</td>
                <td class="headerLabel">Mouse<br>Chromosome</td>
                <td class="headerLabel">Mutation<br>Types</td>
                <td class="headerLabel">Genetic<br>Change</td>
            </tr>

                    <c:forEach var="genetics" items="${tumorFreq.tumorGenetics}" varStatus="status">
                        <c:choose>
                            <c:when test="${status.index%2==0}">
                                <tr class="stripe1">
                            </c:when>
                            <c:otherwise>
                                <tr class="stripe2">
                            </c:otherwise>
                        </c:choose>
                            <td>
                                <c:choose>
                                <c:when test="${not empty genetics.geneSymbol}">
                                    <c:choose>
                                        <c:when test="${fn:indexOf(genetics.geneSymbol, '+')<0}">
                                            <a href="redirect?key=${genetics.markerKey}&type=1" target="MGI"><c:out value="${genetics.geneSymbol}" escapeXml="false"/></a>
                                        </c:when>
                                        <c:otherwise>
                                            <c:out value="${genetics.geneSymbol}" escapeXml="false"/>
                                        </c:otherwise>
                                    </c:choose>
                                </c:when>
                                <c:otherwise>
                                    &nbsp;
                                </c:otherwise>
                                </c:choose>
                            </td>
                            <td>
                                <c:choose>
                                    <c:when test="${fn:containsIgnoreCase(genetics.geneName, 'placeholder')}">
                                        &nbsp;
                                    </c:when>
                                    <c:otherwise>
                                        <c:out value="${genetics.geneName}" escapeXml="false"/>
                                    </c:otherwise>
                                </c:choose>
                            </td>
                            <td align="center">
                                <c:out value="${genetics.chromosome}" escapeXml="false"/>
                            </td>
                            <td>
                                <c:out value="${genetics.alleleType}" escapeXml="false"/>
                            </td>
                            
                            <td>
                                <c:forEach var="row" items="${genetics.genotypes}" varStatus="status">
                                    <c:choose>
                                        <c:when test="${not empty row.allele1Symbol && not empty row.allele2Symbol}">
                                            ${row.allele1Symbol} / ${row.allele2Symbol}
                                        </c:when>
                                        <c:when test="${not empty row.allele1Symbol && empty row.allele2Symbol}">
                                            ${row.allele1Symbol}
                                        </c:when>
                                        <c:when test="${not row.allele1Symbol && not empty row.allele2Symbol}">
                                            ${row.allele2Symbol}
                                        </c:when>
                                        <c:otherwise>
                                            &nbsp;
                                        </c:otherwise>
                                    </c:choose>
                                </c:forEach>
                            </td>
                        </tr>
                    </c:forEach>
        </table>
    </c:when>
    
    <!-- Cytogenetics -->
    <c:choose>
     <c:when test="${not empty tumorFreq.tumorCytogenetics}">
        <table border="0" cellpadding=5 cellspacing=1 width="100%" class="results">
            <tr>
                <td colspan="5" class="resultsHeaderLeft">
                    <font class="larger">Tumor Cytogenetics</font>
                </td>
            </tr>
            <tr>
                
                <td class="headerLabel">Name</td>
                <td class="headerLabel">Mouse<br>Chromosome</td>
                <td class="headerLabel">Mutation<br>Types</td>
                <td class="headerLabel">Note</td>
            </tr>

                    <c:forEach var="genetics" items="${tumorFreq.tumorCytogenetics}" varStatus="status">
                    <tr>
                        <c:choose>
                            <c:when test="${status.index%2==0}">
                                <tr class="stripe1">
                            </c:when>
                            <c:otherwise>
                                <tr class="stripe2">
                            </c:otherwise>
                        </c:choose>
                            <td>   
                                <c:out value="${genetics.geneName}" escapeXml="false"/>
                            </td>
                            <td>
                                <c:out value="${genetics.displayChromosomes}" escapeXml="false"/>
                            </td>
                            <td>
                                <c:out value="${genetics.alleleTypeName}" escapeXml="false"/>
                            </td>
                            <td>
                                <c:out value="${genetics.note}" escapeXml="false"/>
                            </td>
                            
                            
                        </tr>
                    </c:forEach>
        </table>
    </c:when>
    
     
    
    
    
    <c:otherwise>
       
    </c:otherwise>
    </c:choose>
    
   
    
    
<!--======================= End Tumor Genetics Section =====================-->    
        </td>
    </tr>
</table>
</body>
</html> 
